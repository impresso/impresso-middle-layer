{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ContentItem",
  "description": "Schema for content items in the Impresso project, including articles, radio broadcasts, and other media content",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the content item"
    },
    "meta_journal_s": {
      "type": "string",
      "description": "Journal or media source identifier"
    },
    "meta_year_i": {
      "type": "integer",
      "description": "Year of publication/broadcast"
    },
    "meta_month_i": {
      "type": "integer",
      "minimum": 1,
      "maximum": 12,
      "description": "Month of publication/broadcast"
    },
    "meta_yearmonth_s": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}$",
      "description": "Year-month in YYYY-MM format"
    },
    "meta_day_i": {
      "type": "integer",
      "minimum": 1,
      "maximum": 31,
      "description": "Day of publication/broadcast"
    },
    "meta_ed_s": {
      "type": "string",
      "description": "Edition identifier"
    },
    "meta_date_dt": {
      "type": "string",
      "format": "date-time",
      "description": "Full date and time in ISO 8601 format"
    },
    "meta_issue_id_s": {
      "type": "string",
      "description": "Issue identifier"
    },
    "source_type_s": {
      "type": "string",
      "enum": ["newspaper", "radio_broadcast"],
      "description": "Type of media source"
    },

    "meta_country_code_s": {
      "type": "string",
      "description": "Country code or 'na' if not applicable"
    },
    "meta_province_code_s": {
      "type": "string",
      "description": "Province code or 'na' if not applicable"
    },
    "meta_periodicity_s": {
      "type": "string",
      "description": "Publication periodicity or 'na' if not applicable"
    },
    "meta_topics_s": {
      "type": "string",
      "description": "Topics metadata or 'na' if not applicable"
    },
    "meta_polorient_s": {
      "type": "string",
      "description": "Political orientation or 'na' if not applicable"
    },
    "meta_partnerid_s": {
      "type": "string",
      "description": "Partner ID or 'na' if not applicable"
    },
    "doc_type_s": {
      "type": "string",
      "enum": ["ci", "p"],
      "description": "Document type (ci = content item, p = page)"
    },
    "item_type_s": {
      "type": "string",
      "enum": ["ar", "radio_broadcast_episode", "uc", "ad", "tb", "ob", "w", "page"],
      "description": "Specific type of content item (uc = unknown)"
    },
    "olr_b": {
      "type": "boolean",
      "description": "OCR/OLR processing flag"
    },
    "lg_orig_s": {
      "type": "string",
      "description": "Original language code"
    },
    "lg_s": {
      "type": "string",
      "description": "Language code or 'no_lg' if no language detected"
    },
    "topics_dpfs": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Topic distributions with confidence scores in format 'topic_id|score'"
    },
    "rights_data_domain_s": {
      "type": "string",
      "description": "Data domain for rights management"
    },
    "rights_copyright_s": {
      "type": "string",
      "description": "Copyright information"
    },
    "rights_perm_use_explore_plain": {
      "type": "string",
      "description": "Permission level for exploration use in plain format"
    },
    "rights_perm_use_get_tr_plain": {
      "type": "string",
      "description": "Permission level for getting text reuse data in plain format"
    },
    "rights_perm_use_get_img_plain": {
      "type": "string",
      "description": "Permission level for getting images in plain format"
    },
    "rights_bm_explore_l": {
      "type": "integer",
      "description": "Bitmap that controls accessibility to the 'Explore' action via the WebApp (browse). Encodes which user status or archive membership is sufficient to execute the EXPLORE action on this title."
    },
    "rights_bm_get_tr_l": {
      "type": "integer",
      "description": "Bitmap that controls accessibility to the 'Get Transcript' action (export via .csv or download via API). Encodes which user status or archive membership is sufficient to execute the GET action on TRANSCRIPTS of this title."
    },
    "rights_bm_get_img_l": {
      "type": "integer",
      "description": "Bitmap that controls accessibility to the 'Get any part of a facsimile' action (export via .csv or download via API). Encodes which user status or archive membership is sufficient to execute the GET action on IMAGES or ANY PART OF THE FACSIMILE of this title."
    }
  },
  "patternProperties": {
    "^title_txt_[a-z]{2}$": {
      "type": "string",
      "description": "Title of the article in the specified language (ISO 639-1 two-letter language code)"
    },
    "^content_txt_[a-z]{2}$": {
      "type": "string",
      "description": "Full text content of the article in the specified language (ISO 639-1 two-letter language code)"
    }
  },
  "required": [
    "id",
    "meta_journal_s",
    "meta_year_i",
    "meta_month_i",
    "meta_day_i",
    "meta_date_dt",
    "source_type_s",
    "doc_type_s",
    "item_type_s"
  ],
  "additionalProperties": false,
  "examples": [
    {
      "id": "RDN-1950-01-12-a-i0001",
      "meta_journal_s": "RDN",
      "meta_year_i": 1950,
      "meta_month_i": 1,
      "meta_yearmonth_s": "1950-01",
      "meta_day_i": 12,
      "meta_ed_s": "a",
      "meta_date_dt": "1950-01-12T00:00:00Z",
      "meta_issue_id_s": "RDN-1950-01-12-a",
      "source_type_s": "radio_broadcast",
      "meta_country_code_s": "na",
      "meta_province_code_s": "na",
      "meta_periodicity_s": "na",
      "meta_topics_s": "na",
      "meta_polorient_s": "na",
      "meta_partnerid_s": "na",
      "doc_type_s": "ci",
      "item_type_s": "radio_broadcast_episode",
      "olr_b": false,
      "lg_orig_s": "fr",
      "lg_s": "no_lg",
      "topics_dpfs": ["tm-de-all-v2.0_tp68_de|0.571", "tm-de-all-v2.0_tp30_de|0.132"],
      "rights_data_domain_s": "pbl",
      "rights_copyright_s": "pbl",
      "rights_perm_use_explore_plain": "nur",
      "rights_perm_use_get_tr_plain": "nur",
      "rights_perm_use_get_img_plain": "nur",
      "rights_bm_explore_l": 1,
      "rights_bm_get_tr_l": 1,
      "rights_bm_get_img_l": 1
    }
  ]
}
